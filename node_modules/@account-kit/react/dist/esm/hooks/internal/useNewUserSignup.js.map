{"version":3,"file":"useNewUserSignup.js","sourceRoot":"","sources":["../../../../src/hooks/internal/useNewUserSignup.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAC;AACpD,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAE5C,MAAM,UAAU,gBAAgB,CAAC,QAAoB,EAAE,OAAiB;IACtE,MAAM,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC;IACjC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,GAAG,QAAQ,CAAC,KAAK,CAAC,CAAC;IAClD,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,SAAS,CAAC,GAAG,EAAE;QACb,MAAM,aAAa,GAAG,MAAM,EAAE,EAAE,CAAC,eAAe,EAAE,GAAG,EAAE;YACrD,YAAY,CAAC,IAAI,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC;QACH,OAAO,aAAa,CAAC;IACvB,CAAC,EAAE,CAAC,MAAM,CAAC,CAAC,CAAC;IACb,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,CAAC,OAAO;YAAE,OAAO;QACrB,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,IAAI,UAAU,CAAC,OAAO;YAAE,OAAO;QAC/B,IAAI,SAAS,EAAE,CAAC;YACd,QAAQ,EAAE,CAAC;YACX,UAAU,CAAC,OAAO,GAAG,IAAI,CAAC;QAC5B,CAAC;IACH,CAAC,EAAE,CAAC,OAAO,EAAE,SAAS,EAAE,QAAQ,EAAE,MAAM,CAAC,CAAC,CAAC;AAC7C,CAAC","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\nimport { useSigner } from \"../useSigner.js\";\n\nexport function useNewUserSignup(onSignup: () => void, enabled?: boolean) {\n  const hasHandled = useRef(false);\n  const [isNewUser, setIsNewUser] = useState(false);\n  const signer = useSigner();\n  useEffect(() => {\n    const stopListening = signer?.on(\"newUserSignup\", () => {\n      setIsNewUser(true);\n    });\n    return stopListening;\n  }, [signer]);\n  useEffect(() => {\n    if (!enabled) return;\n    if (!signer) return;\n    if (hasHandled.current) return;\n    if (isNewUser) {\n      onSignup();\n      hasHandled.current = true;\n    }\n  }, [enabled, isNewUser, onSignup, signer]);\n}\n"]}