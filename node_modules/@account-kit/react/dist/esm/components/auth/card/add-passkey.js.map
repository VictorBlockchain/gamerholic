{"version":3,"file":"add-passkey.js","sourceRoot":"","sources":["../../../../../src/components/auth/card/add-passkey.tsx"],"names":[],"mappings":"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","sourcesContent":["import { useAddPasskey } from \"../../../hooks/useAddPasskey.js\";\nimport { AddPasskeyIllustration } from \"../../../icons/illustrations/add-passkey.js\";\nimport {\n  PasskeyShieldIllustration,\n  PasskeySmileyIllustration,\n} from \"../../../icons/illustrations/passkeys.js\";\nimport { ReactLogger } from \"../../../metrics.js\";\nimport { ls } from \"../../../strings.js\";\nimport { Button } from \"../../button.js\";\nimport { useAuthContext } from \"../context.js\";\nimport { ConnectionError } from \"./error/connection-error.js\";\nimport { ConnectionFailed as PasskeyConnectionFailed } from \"../../../icons/connectionFailed.js\";\n\nconst BENEFITS = [\n  {\n    icon: PasskeySmileyIllustration,\n    title: ls.addPasskey.simplerLoginTitle,\n    description: ls.addPasskey.simplerLoginDescription,\n  },\n  {\n    icon: PasskeyShieldIllustration,\n    title: ls.addPasskey.enhancedSecurityTitle,\n    description: ls.addPasskey.enhancedSecurityDescription,\n  },\n];\n\nexport const AddPasskey = () => {\n  const { setAuthStep, authStep } = useAuthContext(\"passkey_create\");\n  const { addPasskey, isAddingPasskey } = useAddPasskey({\n    onSuccess: () => {\n      ReactLogger.trackEvent({\n        name: \"add_passkey_on_signup_success\",\n      });\n\n      setAuthStep({ type: \"passkey_create_success\" });\n    },\n    onError: () => {\n      setAuthStep({\n        type: \"passkey_create\",\n        error: new Error(\"Failed to add passkey\"),\n      });\n    },\n  });\n\n  if (authStep.error) {\n    return (\n      <ConnectionError\n        headerText={ls.error.connection.passkeyTitle}\n        bodyText={ls.error.connection.passkeyBody}\n        icon={<PasskeyConnectionFailed />}\n        shouldDisconnect={false}\n        handleTryAgain={addPasskey}\n        handleSkip={() => setAuthStep({ type: \"complete\" })}\n      />\n    );\n  }\n\n  return (\n    <div className=\"flex flex-col gap-5 items-center\">\n      <div className=\"flex flex-col items-center justify-center h-12 w-12\">\n        <AddPasskeyIllustration height=\"48\" width=\"48\" />\n      </div>\n\n      <h3 className=\"font-semibold text-lg\">{ls.addPasskey.title}</h3>\n\n      <div className=\"flex flex-col w-full gap-3\">\n        {BENEFITS.map(({ title, icon: Icon, description }) => (\n          <div key={title} className=\"flex gap-2\">\n            <div className=\"h-5 w-5 flex items-center justify-center\">\n              <Icon />\n            </div>\n            <div className=\"flex flex-col\">\n              <p className=\"font-semibold text-sm\">{title}</p>\n              <p className=\"text-fg-secondary text-sm\">{description}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      <div className=\"flex flex-col w-full gap-3\">\n        <Button\n          variant=\"primary\"\n          onClick={() => addPasskey()}\n          disabled={isAddingPasskey}\n        >\n          {ls.addPasskey.continue}\n        </Button>\n        <Button\n          variant=\"secondary\"\n          onClick={() => {\n            ReactLogger.trackEvent({\n              name: \"add_passkey_on_signup_skip\",\n            });\n            setAuthStep({ type: \"complete\" });\n          }}\n          disabled={isAddingPasskey}\n        >\n          {ls.addPasskey.skip}\n        </Button>\n      </div>\n    </div>\n  );\n};\n"]}