{"version":3,"file":"oauth.js","sourceRoot":"","sources":["../../../../../../src/components/auth/card/loading/oauth.tsx"],"names":[],"mappings":";AAAA,OAAO,EAAE,mBAAmB,EAAE,MAAM,qBAAqB,CAAC;AAC1D,OAAO,EAAE,SAAS,EAAE,MAAM,OAAO,CAAC;AAClC,OAAO,EAAE,eAAe,EAAE,MAAM,sCAAsC,CAAC;AACvE,OAAO,EACL,iBAAiB,EACjB,qBAAqB,GACtB,MAAM,4BAA4B,CAAC;AACpC,OAAO,EAAE,cAAc,EAAE,MAAM,kBAAkB,CAAC;AAClD,OAAO,EAAE,cAAc,EAAE,MAAM,+BAA+B,CAAC;AAC/D,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAC/D,OAAO,EAAE,EAAE,EAAE,MAAM,wBAAwB,CAAC;AAC5C,OAAO,EAAE,4BAA4B,EAAE,MAAM,gBAAgB,CAAC;AAE9D,MAAM,CAAC,MAAM,eAAe,GAAG,GAAG,EAAE;IAClC,MAAM,EAAE,WAAW,EAAE,GAAG,eAAe,EAAE,CAAC;IAC1C,MAAM,EAAE,WAAW,EAAE,QAAQ,EAAE,GAAG,cAAc,CAAC,kBAAkB,CAAC,CAAC;IACrE,MAAM,EAAE,YAAY,EAAE,GAAG,cAAc,CAAC,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;IACrE,MAAM,iBAAiB,GAAG,QAAQ,CAAC,KAAK,YAAY,mBAAmB,CAAC;IAExE,SAAS,CAAC,GAAG,EAAE;QACb,IAAI,WAAW,EAAE,CAAC;YAChB,WAAW,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;QACpC,CAAC;aAAM,IAAI,iBAAiB,EAAE,CAAC;YAC7B,WAAW,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,CAAC;QACnC,CAAC;IACH,CAAC,EAAE,CAAC,WAAW,EAAE,iBAAiB,EAAE,WAAW,CAAC,CAAC,CAAC;IAElD,IAAI,QAAQ,CAAC,KAAK,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzC,OAAO,CACL,KAAC,eAAe,IACd,UAAU,EAAE,GACV,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,UACtB,IAAI,4BAA4B,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,EACnD,QAAQ,EAAE,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,SAAS,EACvC,cAAc,EAAE,YAAY,EAC5B,sBAAsB,EAAE,GAAG,EAAE,CAAC,WAAW,CAAC,EAAE,IAAI,EAAE,SAAS,EAAE,CAAC,EAC9D,IAAI,EACF,KAAC,qBAAqB,IACpB,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,cAAc,EACxC,eAAe,EAAE,QAAQ,CAAC,MAAM,CAAC,eAAe,EAChD,OAAO,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,EAChC,WAAW,EAAE,QAAQ,CAAC,MAAM,CAAC,WAAW,GACxC,GAEJ,CACH,CAAC;IACJ,CAAC;IAED,MAAM,mBAAmB,GAAG,4BAA4B,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;IAC1E,OAAO,CACL,eAAK,SAAS,EAAC,kCAAkC,aAC/C,cAAK,SAAS,EAAC,2CAA2C,YACxD,KAAC,iBAAiB,IAAC,QAAQ,EAAE,QAAQ,CAAC,MAAM,CAAC,cAAc,GAAI,GAC3D,EAEN,aAAI,SAAS,EAAC,uBAAuB,YAAE,iBAAiB,mBAAmB,EAAE,GAAM,EACnF,YAAG,SAAS,EAAC,uCAAuC,YACjD,yDAAyD,mBAAmB,EAAE,GAC7E,IACA,CACP,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { OauthCancelledError } from \"@account-kit/signer\";\nimport { useEffect } from \"react\";\nimport { useSignerStatus } from \"../../../../hooks/useSignerStatus.js\";\nimport {\n  ContinueWithOAuth,\n  OAuthConnectionFailed,\n} from \"../../../../icons/oauth.js\";\nimport { useAuthContext } from \"../../context.js\";\nimport { useOAuthVerify } from \"../../hooks/useOAuthVerify.js\";\nimport { ConnectionError } from \"../error/connection-error.js\";\nimport { ls } from \"../../../../strings.js\";\nimport { getSocialProviderDisplayName } from \"../../types.js\";\n\nexport const CompletingOAuth = () => {\n  const { isConnected } = useSignerStatus();\n  const { setAuthStep, authStep } = useAuthContext(\"oauth_completing\");\n  const { authenticate } = useOAuthVerify({ config: authStep.config });\n  const oauthWasCancelled = authStep.error instanceof OauthCancelledError;\n\n  useEffect(() => {\n    if (isConnected) {\n      setAuthStep({ type: \"complete\" });\n    } else if (oauthWasCancelled) {\n      setAuthStep({ type: \"initial\" });\n    }\n  }, [isConnected, oauthWasCancelled, setAuthStep]);\n\n  if (authStep.error && !oauthWasCancelled) {\n    return (\n      <ConnectionError\n        headerText={`${\n          ls.error.connection.oauthTitle\n        } ${getSocialProviderDisplayName(authStep.config)}`}\n        bodyText={ls.error.connection.oauthBody}\n        handleTryAgain={authenticate}\n        handleUseAnotherMethod={() => setAuthStep({ type: \"initial\" })}\n        icon={\n          <OAuthConnectionFailed\n            provider={authStep.config.authProviderId}\n            auth0Connection={authStep.config.auth0Connection}\n            logoUrl={authStep.config.logoUrl}\n            logoUrlDark={authStep.config.logoUrlDark}\n          />\n        }\n      />\n    );\n  }\n\n  const providerDisplayName = getSocialProviderDisplayName(authStep.config);\n  return (\n    <div className=\"flex flex-col gap-5 items-center\">\n      <div className=\"flex flex-col items-center justify-center\">\n        <ContinueWithOAuth provider={authStep.config.authProviderId} />\n      </div>\n\n      <h3 className=\"font-semibold text-lg\">{`Continue with ${providerDisplayName}`}</h3>\n      <p className=\"text-fg-secondary text-center text-sm\">\n        {`Follow the steps in the pop up window to sign in with ${providerDisplayName}`}\n      </p>\n    </div>\n  );\n};\n"]}