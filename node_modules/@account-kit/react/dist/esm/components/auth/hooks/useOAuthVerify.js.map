{"version":3,"file":"useOAuthVerify.js","sourceRoot":"","sources":["../../../../../src/components/auth/hooks/useOAuthVerify.ts"],"names":[],"mappings":"AAAA,YAAY,CAAC;AACb,OAAO,EAAE,WAAW,EAAE,MAAM,OAAO,CAAC;AACpC,OAAO,EAAE,eAAe,EAAE,MAAM,mCAAmC,CAAC;AACpE,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAC;AAQ/C,MAAM,CAAC,MAAM,cAAc,GAAG,CAAC,EAC7B,MAAM,GAGP,EAA4B,EAAE;IAC7B,MAAM,EAAE,WAAW,EAAE,GAAG,cAAc,EAAE,CAAC;IAEzC,MAAM,EAAE,YAAY,EAAE,aAAa,EAAE,SAAS,EAAE,GAAG,eAAe,CAAC;QACjE,QAAQ,EAAE,GAAG,EAAE;YACb,WAAW,CAAC;gBACV,MAAM;gBACN,IAAI,EAAE,kBAAkB;aACzB,CAAC,CAAC;QACL,CAAC;QACD,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE;YACf,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YACnB,WAAW,CAAC;gBACV,IAAI,EAAE,kBAAkB;gBACxB,MAAM;gBACN,KAAK,EAAE,GAAG;aACX,CAAC,CAAC;QACL,CAAC;QACD,SAAS,EAAE,GAAG,EAAE;YACd,WAAW,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC;QACpC,CAAC;KACF,CAAC,CAAC;IAEH,MAAM,YAAY,GAAG,WAAW,CAAC,GAAG,EAAE;QACpC,aAAa,CAAC;YACZ,GAAG,MAAM;YACT,IAAI,EAAE,OAAO;SACd,CAAC,CAAC;IACL,CAAC,EAAE,CAAC,aAAa,EAAE,MAAM,CAAC,CAAC,CAAC;IAE5B,OAAO;QACL,SAAS;QACT,YAAY;KACb,CAAC;AACJ,CAAC,CAAC","sourcesContent":["\"use client\";\nimport { useCallback } from \"react\";\nimport { useAuthenticate } from \"../../../hooks/useAuthenticate.js\";\nimport { useAuthContext } from \"../context.js\";\nimport type { AuthType } from \"../types.js\";\n\nexport type UseOAuthVerifyReturnType = {\n  authenticate: () => void;\n  isPending: boolean;\n};\n\nexport const useOAuthVerify = ({\n  config,\n}: {\n  config: Extract<AuthType, { type: \"social\" }>;\n}): UseOAuthVerifyReturnType => {\n  const { setAuthStep } = useAuthContext();\n\n  const { authenticate: authenticate_, isPending } = useAuthenticate({\n    onMutate: () => {\n      setAuthStep({\n        config,\n        type: \"oauth_completing\",\n      });\n    },\n    onError: (err) => {\n      console.error(err);\n      setAuthStep({\n        type: \"oauth_completing\",\n        config,\n        error: err,\n      });\n    },\n    onSuccess: () => {\n      setAuthStep({ type: \"complete\" });\n    },\n  });\n\n  const authenticate = useCallback(() => {\n    authenticate_({\n      ...config,\n      type: \"oauth\",\n    });\n  }, [authenticate_, config]);\n\n  return {\n    isPending,\n    authenticate,\n  };\n};\n"]}