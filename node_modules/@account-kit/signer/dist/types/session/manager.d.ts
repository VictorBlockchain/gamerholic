import EventEmitter from "eventemitter3";
import { z } from "zod";
import type { BaseSignerClient } from "../client/base";
import type { User } from "../client/types";
import type { SessionManagerEvents } from "./types";
export declare const DEFAULT_SESSION_MS: number;
export declare const SessionManagerParamsSchema: z.ZodObject<{
    sessionKey: z.ZodDefault<z.ZodString>;
    storage: z.ZodUnion<[z.ZodDefault<z.ZodEnum<["localStorage", "sessionStorage"]>>, z.ZodType<Storage, z.ZodTypeDef, Storage>]>;
    expirationTimeMs: z.ZodDefault<z.ZodNumber>;
    client: z.ZodType<BaseSignerClient<unknown>, z.ZodTypeDef, BaseSignerClient<unknown>>;
}, "strip", z.ZodTypeAny, {
    storage: (Storage | "localStorage" | "sessionStorage") & (Storage | "localStorage" | "sessionStorage" | undefined);
    sessionKey: string;
    expirationTimeMs: number;
    client: BaseSignerClient<unknown>;
}, {
    client: BaseSignerClient<unknown>;
    sessionKey?: string | undefined;
    storage?: Storage | "localStorage" | "sessionStorage" | undefined;
    expirationTimeMs?: number | undefined;
}>;
export type SessionManagerParams = z.input<typeof SessionManagerParamsSchema>;
type TemporarySession = {
    orgId: string;
    isNewUser?: boolean;
};
export declare class SessionManager {
    private sessionKey;
    private client;
    private eventEmitter;
    readonly expirationTimeMs: number;
    private store;
    private clearSessionHandle;
    constructor(params: SessionManagerParams);
    getSessionUser: () => Promise<User | null>;
    clearSession: () => void;
    setTemporarySession: (session: TemporarySession) => void;
    getTemporarySession: () => TemporarySession | null;
    on: <E extends keyof SessionManagerEvents>(event: E, listener: SessionManagerEvents[E]) => () => EventEmitter<SessionManagerEvents, any>;
    private getSession;
    private setSession;
    initialize(): void;
    private getInitialState;
    private registerEventListeners;
    private registerSessionExpirationHandler;
    private setSessionWithUserAndBundle;
}
export {};
//# sourceMappingURL=manager.d.ts.map