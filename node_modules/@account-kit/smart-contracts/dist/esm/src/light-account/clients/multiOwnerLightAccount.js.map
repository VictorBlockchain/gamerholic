{"version":3,"file":"multiOwnerLightAccount.js","sourceRoot":"","sources":["../../../../../src/light-account/clients/multiOwnerLightAccount.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,wBAAwB,GAOzB,MAAM,cAAc,CAAC;AACtB,OAAO,EAAoD,MAAM,MAAM,CAAC;AACxE,OAAO,EACL,mCAAmC,EACnC,4BAA4B,GAK7B,MAAM,8BAA8B,CAAC;AACtC,OAAO,EACL,kBAAkB,EAClB,+BAA+B,GAGhC,MAAM,oBAAoB,CAAC;AAiE5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAmCG;AACH,MAAM,CAAC,KAAK,UAAU,kCAAkC,CACtD,MAAgE;IAEhE,MAAM,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,MAAM,CAAC;IAEpC,MAAM,YAAY,GAAG,MAAM,4BAA4B,CAAC;QACtD,GAAG,MAAM;QACT,SAAS;QACT,KAAK;KACN,CAAC,CAAC;IACH,IAAI,kBAAkB,CAAC,SAAS,EAAE,KAAK,CAAC,EAAE,CAAC;QACzC,OAAO,+BAA+B,CAAC;YACrC,GAAG,MAAM;YACT,SAAS;YACT,KAAK;YACL,OAAO,EAAE,YAAY;SACtB,CAAC,CAAC,MAAM,CAAC,mCAAmC,CAAC,CAAC;IACjD,CAAC;IAED,OAAO,wBAAwB,CAAC;QAC9B,GAAG,MAAM;QACT,SAAS;QACT,KAAK,EAAE,KAAK;QACZ,OAAO,EAAE,YAAY;KACtB,CAAC,CAAC,MAAM,CAAC,mCAAmC,CAAC,CAAC;AACjD,CAAC","sourcesContent":["import {\n  createSmartAccountClient,\n  type NotType,\n  type SmartAccountClient,\n  type SmartAccountClientActions,\n  type SmartAccountClientConfig,\n  type SmartAccountSigner,\n  type SmartContractAccount,\n} from \"@aa-sdk/core\";\nimport { type Chain, type CustomTransport, type Transport } from \"viem\";\nimport {\n  multiOwnerLightAccountClientActions,\n  createMultiOwnerLightAccount,\n  type CreateMultiOwnerLightAccountParams,\n  type MultiOwnerLightAccount,\n  type MultiOwnerLightAccountClientActions,\n  type AlchemyMultiOwnerLightAccountClientConfig,\n} from \"@account-kit/smart-contracts\";\nimport {\n  isAlchemyTransport,\n  createAlchemySmartAccountClient,\n  type AlchemySmartAccountClient,\n  type AlchemyTransport,\n} from \"@account-kit/infra\";\n\nexport type CreateMultiOwnerLightAccountClientParams<\n  TTransport extends Transport = Transport,\n  TChain extends Chain | undefined = Chain | undefined,\n  TSigner extends SmartAccountSigner = SmartAccountSigner\n> = {\n  transport: CreateMultiOwnerLightAccountParams<\n    TTransport,\n    TSigner\n  >[\"transport\"];\n  chain: CreateMultiOwnerLightAccountParams<TTransport, TSigner>[\"chain\"];\n} & Omit<\n  CreateMultiOwnerLightAccountParams<TTransport, TSigner>,\n  \"transport\" | \"chain\"\n> &\n  Omit<\n    SmartAccountClientConfig<TTransport, TChain>,\n    \"transport\" | \"account\" | \"chain\"\n  >;\n\nexport type CreateMultiOwnerLightAccountClientDynamicTransportParams<\n  TTransport extends Transport = Transport,\n  TChain extends Chain | undefined = Chain | undefined,\n  TSigner extends SmartAccountSigner = SmartAccountSigner\n> =\n  | (AlchemyMultiOwnerLightAccountClientConfig<TSigner> & {\n      transport: AlchemyTransport;\n    })\n  | CreateMultiOwnerLightAccountClientParams<TTransport, TChain, TSigner>;\n\nexport async function createMultiOwnerLightAccountClient<\n  TSigner extends SmartAccountSigner = SmartAccountSigner\n>(\n  params: AlchemyMultiOwnerLightAccountClientConfig<TSigner> & {\n    transport: AlchemyTransport;\n  }\n): Promise<\n  AlchemySmartAccountClient<\n    Chain | undefined,\n    MultiOwnerLightAccount<TSigner>,\n    MultiOwnerLightAccountClientActions<TSigner>\n  >\n>;\n\nexport function createMultiOwnerLightAccountClient<\n  TTransport extends Transport = Transport,\n  TChain extends Chain | undefined = Chain | undefined,\n  TSigner extends SmartAccountSigner = SmartAccountSigner\n>(\n  args: CreateMultiOwnerLightAccountClientParams<TTransport, TChain, TSigner> &\n    NotType<TTransport, AlchemyTransport>\n): Promise<\n  SmartAccountClient<\n    CustomTransport,\n    Chain,\n    MultiOwnerLightAccount<TSigner>,\n    SmartAccountClientActions<Chain, SmartContractAccount> &\n      MultiOwnerLightAccountClientActions<\n        TSigner,\n        MultiOwnerLightAccount<TSigner>\n      >\n  >\n>;\n\n/**\n * Creates a multi-owner light account client using the provided parameters. It first creates a multi-owner light account and then creates a smart account client with the provided configurations.\n *\n * @example\n * ```ts\n * import { createMultiOwnerLightAccountClient } from \"@account-kit/smart-contracts\";\n * import { LocalAccountSigner } from \"@aa-sdk/core\";\n * import { sepolia } from \"viem/chains\";\n * import { http, generatePrivateKey } from \"viem\"\n *\n * const account = await createMultiOwnerLightAccountClient({\n *  chain: sepolia,\n *  transport: http(\"RPC_URL\"),\n *  signer: LocalAccountSigner.privateKeyToAccountSigner(generatePrivateKey())\n * });\n * ```\n *\n * @example\n * ```ts\n * import { createMultiOwnerLightAccountClient } from \"@account-kit/smart-contracts\";\n * import { sepolia, alchemy } from \"@account-kit/infra\";\n * import { LocalAccountSigner } from \"@aa-sdk/core\";\n * import { generatePrivateKey } from \"viem\"\n *\n * const lightAccountClient = await createMultiOwnerLightAccountClient({\n *  transport: alchemy({\n *    apiKey: \"your-api-key\",\n *  }),\n *  chain: sepolia\n *  signer: LocalAccountSigner.privateKeyToAccountSigner(generatePrivateKey())\n * });\n * ```\n *\n * @param {CreateMultiOwnerLightAccountClientDynamicTransportParams} params the configuration for creating the multi-owner light / alchemy account client with the provided parameters transport\n * @returns {Promise<SmartAccountClient>} a promise that resolves to a `SmartAccountClient` containing the created account client and relevant methods\n */\nexport async function createMultiOwnerLightAccountClient(\n  params: CreateMultiOwnerLightAccountClientDynamicTransportParams\n): Promise<SmartAccountClient | AlchemySmartAccountClient> {\n  const { transport, chain } = params;\n\n  const lightAccount = await createMultiOwnerLightAccount({\n    ...params,\n    transport,\n    chain,\n  });\n  if (isAlchemyTransport(transport, chain)) {\n    return createAlchemySmartAccountClient({\n      ...params,\n      transport,\n      chain,\n      account: lightAccount,\n    }).extend(multiOwnerLightAccountClientActions);\n  }\n\n  return createSmartAccountClient({\n    ...params,\n    transport,\n    chain: chain,\n    account: lightAccount,\n  }).extend(multiOwnerLightAccountClientActions);\n}\n"]}